!function(a){var b,d;!function(){var a={},c={};b=function(b,c,d){console.log("define: ",b),a[b]={deps:c,callback:d}},d=function(b){if(console.log("requireModule: ",b),c[b])return c[b];c[b]={};var e=a[b];if(!e)throw new Error("Module '"+b+"' not found.");for(var f,g=e.deps,h=e.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(f={}):i.push(d(g[j]));var l=h.apply(this,i);return c[b]=f||l}}(),b("src/index",["exports"],function(a){"use strict";function b(){Object.apply(this),this.type="DataModel"}function d(){}function e(){s.apply(this);var a,b=[];for(a=0;a<arguments.length;a++)b.push(arguments[a]);return b=e.fromArray(b)}function f(){for(var a=[],b=0;b<arguments.length;b++)a[b]=Number(arguments[b]);var c=t.apply(this,a);return c=f.fromArray(c)}function g(){}function h(){for(var a=0;a<arguments.length;a++)arguments[a]=String(arguments[a]);var b=t.apply(this,arguments);return b=h.fromArray(b)}function k(a,b){DataModel.apply(this,arguments),this.x=Number(a),this.y=Number(b),this.type="Interval"}function l(){for(var a=0;a<arguments.length;a++)arguments[a]=Number(arguments[a]);var b=t.apply(this,arguments);return b=l.fromArray(b)}function m(){if(array=m.fromArray([]),arguments&&arguments.length>0){var a=Array.prototype.slice.call(arguments);a.forEach(function(a){array.addNode(a)})}return array}function o(){var a=List.apply(this,arguments);return a=o.fromArray(a)}function p(){var a=Table.apply(this,arguments);return a=p.fromArray(a)}function q(){var a,b=[];for(a=0;a<arguments.length;a++)b[a]=new t(arguments[a]);var c=t.apply(this,b);return c=q.fromArray(c)}function r(){var a,b;if(arguments.length>0&&Number(arguments[0])==arguments[0]){b=[];var c;for(c=0;c<arguments[0];c++)b.push(new NumberList)}else{for(var c=0;null!=arguments[c];c++)a=NumberList.fromArray(arguments[c]),a.name=arguments[c].name,arguments[c]=a;b=Table.apply(this,arguments)}return b=r.fromArray(b)}b.prototype={},b.prototype.constructor=b;var s=b;b.prototype.destroy=function(){delete this.type,delete this.name},b.prototype.setType=function(a){this.type=a},b.prototype.getType=function(){return this.type},b.prototype.toString=function(){},a.DataModel=s,d.millisecondsToHours=1/36e5,d.millisecondsToDays=1/864e5,d.millisecondsToWeeks=1/6048e5,d.millisecondsToYears=3.169e-11,d.MONTH_NAMES=["january","february","march","april","may","june","july","august","september","october","november","december"],d.MONTH_NAMES_SHORT=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],d.MONTH_NDAYS=[31,28,31,30,31,30,31,31,30,31,30,31],d.WEEK_NAMES=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],d.stringToDate=function(a,b,c){if(c=null==c?"-":c,b=null==b?1:b,1==b)return"-"!=c&&(a=a.replace(new RegExp(a,"g"),"-")),new Date(a);var d,e=a.split(c);switch(b){case 0:return new Date(Number(e[2]),Number(e[0])-1,Number(e[1]));case 1:return new Date(a);case 2:return d=Number(e[2]),d=d>=0?d+2e3:d+1900,new Date(d,Number(e[0])-1,Number(e[1]));case 3:return d=Number(e[0]),d=d>=0?d+2e3:d+1900,new Date(d,Number(e[1])-1,Number(e[2]))}},d.dateToString=function(a,b,c){c=null==c?"-":c,b=null==b?0:b;var d=a.getFullYear(),e=a.getMonth()+1,f=a.getDate();switch(b){case 0:return e+c+f+c+d;case 1:return d+c+e+c+f}},d.currentDate=function(){return new Date},d.addDaysToDate=function(a,b){return new Date(a.getTime()+b/d.millisecondsToDays)},d.addMillisecondsToDate=function(a,b){return new Date(a.getTime()+b)},d.parseDate=function(a){return new Date(Date.parse(a.replace(/\./g,"-")))},d.parseDates=function(a){var b,c=new f;for(b=0;null!=a[b];b++)c.push(this.parseDate(a[b]));return c},d.getHoursBetweenDates=function(a,b){return(b.getTime()-a.getTime())*d.millisecondsToHours},d.getDaysBetweenDates=function(a,b){return(b.getTime()-a.getTime())*d.millisecondsToDays},d.getWeeksBetweenDates=function(a,b){return(b.getTime()-a.getTime())*d.millisecondsToWeeks},d.getYearsBetweenDates=function(a,b){return(b.getTime()-a.getTime())*d.millisecondsToYears},d.nDayInYear=function(a){return Math.floor((a.getTime()-new Date(a.getFullYear(),0,1).getTime())*d.millisecondsToDays)},d.getDateDaysAgo=function(a){return d.addDaysToDate(new Date,-a)},d.getWeekInYear=function(a){var b=new Date(a.getFullYear(),0,1);return Math.ceil(((a-b)/864e5+b.getDay()+1)/7)},d.getNDaysInMonth=function(a,b){return new Date(b,a,0).getDate()};var t=e;e.prototype=new s,e.prototype.constructor=e,e.fromArray=function(a){return a.type="List",a.name=a.name||"",a.setType=e.prototype.setType,a.setArray=e.prototype.setArray,a._constructor=e,a.getImproved=e.prototype.getImproved,a.sameElements=e.prototype.sameElements,a.getLength=e.prototype.getLength,a.getTypeOfElements=e.prototype.getTypeOfElements,a.getTypes=e.prototype.getTypes,a.getType=e.prototype.getType,a.getLengths=e.prototype.getLengths,a.getWithoutRepetitions=e.prototype.getWithoutRepetitions,a.getElementsRepetitionCount=e.prototype.getElementsRepetitionCount,a.allElementsEqual=e.prototype.allElementsEqual,a.countElement=e.prototype.countElement,a.countOccurrences=e.prototype.countOccurrences,a.getMostRepeatedElement=e.prototype.getMostRepeatedElement,a.getMin=e.prototype.getMin,a.getMax=e.prototype.getMax,a.indexesOf=e.prototype.indexesOf,a.indexOfElements=e.prototype.indexOfElements,a.indexOfByPropertyValue=e.prototype.indexOfByPropertyValue,a.getFirstElementByName=e.prototype.getFirstElementByName,a.getElementsByNames=e.prototype.getElementsByNames,a.getFirstElementByPropertyValue=e.prototype.getFirstElementByPropertyValue,a.add=e.prototype.add,a.multiply=e.prototype.multiply,a.getSubList=e.prototype.getSubList,a.getSubListByIndexes=e.prototype.getSubListByIndexes,a.getSubListByType=e.prototype.getSubListByType,a.getElementNumberOfOccurrences=e.prototype.getElementNumberOfOccurrences,a.getPropertyValues=e.prototype.getPropertyValues,a.getRandomElement=e.prototype.getRandomElement,a.getRandomElements=e.prototype.getRandomElements,a.containsElement=e.prototype.containsElement,a.indexOfElement=e.prototype.indexOfElement,a.sortIndexed=e.prototype.sortIndexed,a.sortNumericIndexed=e.prototype.sortNumericIndexed,a.sortNumeric=e.prototype.sortNumeric,a.sortNumericIndexedDescending=e.prototype.sortNumericIndexedDescending,a.sortNumericDescending=e.prototype.sortNumericDescending,a.sortOnIndexes=e.prototype.sortOnIndexes,a.getReversed=e.prototype.getReversed,a.getSortedByProperty=e.prototype.getSortedByProperty,a.getSorted=e.prototype.getSorted,a.getSortedByList=e.prototype.getSortedByList,a.getSortedRandom=e.prototype.getSortedRandom,a.getFilteredByPropertyValue=e.prototype.getFilteredByPropertyValue,a.getFilteredByBooleanList=e.prototype.getFilteredByBooleanList,a.toNumberList=e.prototype.toNumberList,a.toStringList=e.prototype.toStringList,a.clone=e.prototype.clone,a.toString=e.prototype.toString,a.getNames=e.prototype.getNames,a.applyFunction=e.prototype.applyFunction,a.getWithoutElementAtIndex=e.prototype.getWithoutElementAtIndex,a.getWithoutElement=e.prototype.getWithoutElement,a.getWithoutElements=e.prototype.getWithoutElements,a.getWithoutElementsAtIndexes=e.prototype.getWithoutElementsAtIndexes,a.getFilteredByFunction=e.prototype.getFilteredByFunction,a._concat=Array.prototype.concat,a.concat=e.prototype.concat,a.getReport=e.prototype.getReport,a.pushIfUnique=e.prototype.pushIfUnique,a.removeElement=e.prototype.removeElement,a.removeElementAtIndex=e.prototype.removeElementAtIndex,a.removeElementsAtIndexes=e.prototype.removeElementsAtIndexes,a.removeElements=e.prototype.removeElements,a.removeRepetitions=e.prototype.removeRepetitions,a.replace=e.prototype.replace,a.assignNames=e.prototype.assignNames,a._splice=Array.prototype.splice,a.splice=e.prototype.splice,a.isList=!0,a.destroy=e.prototype.destroy,a},e.prototype.getImproved=function(){if(0==this.length)return this;var a,b=this.getTypeOfElements();switch(b){case"number":a=z.fromArray(this,!1);break;case"string":a=v.fromArray(this,!1);break;case"Rectangle":return this;case"date":a=f.fromArray(this,!1);break;case"List":case"DateList":case"IntervalList":case"StringList":case"Table":a=B.fromArray(this,!1);break;case"NumberList":a=r.fromArray(this,!1);break;case"Point":a=A.fromArray(this,!1);break;case"Polygon":a=p.fromArray(this,!1);break;case"Node":a=m.fromArray(this,!1);break;case"Relation":a=RelationList.fromArray(this,!1)}if(null==a||""==a){var c,d=!0;for(c=0;null!=this[c];c++)if(!this[c].isList){d=!1;break}d&&(a=B.fromArray(this,!1))}return null!=a?(a.name=this.name,a):this},e.prototype.sameElements=function(a){if(this.length!=a.length)return!1;var b;for(b=0;null!=this[b];b++)if(this[b]!=a[b])return!1;return!0},e.prototype.getLength=function(){return this.length},e.prototype.getLengths=function(){return null},e.prototype.getTypeOfElements=function(){for(var a=typeOf(this[0]),b=1;null!=this[b];b++)if(typeOf(this[b])!=a)return"";return a},e.prototype.getTypes=function(){var a=new v;for(i=0;null!=this[i];i++)a[i]=typeOf(this[i]);return a},e.prototype.toString=function(){var a,b="[";for(a=0;a<this.length-1;a++)b+=this[a]+", ";return b+=this[this.length-1]+"]"},e.prototype.getNames=function(){var a=new v;for(i=0;null!=this[i];i++)a[i]=this[i].name;return a},e.prototype.getReversed=function(){for(var a=instantiateWithSameType(this),b=0;null!=this[b];b++)a.unshift(this[b]);return a},e.prototype.getSubList=function(){if(arguments[0].isList)return this.getSubListByIndexes(arguments[0]);if(arguments.length>2)return this.getSubListByIndexes(arguments);"number"==typeOf(arguments[0])?null!=typeOf(arguments[1])&&"number"==typeOf(arguments[1])?interval=new Interval(arguments[0],arguments[1]):interval=new Interval(arguments[0],this.length-1):interval=arguments[0];var a,b=new Interval(Math.max(Math.min(Math.floor(interval.x),this.length),0),Math.max(Math.min(Math.floor(interval.y),this.length-1),0));if("NumberList"==this.type)return a=z.fromArray(this.slice(interval.x,interval.y+1),!1),a.name=this.name,a;if("StringList"==this.type)return a=v.fromArray(this.slice(interval.x,interval.y+1),!1),a.name=this.name,a;a="List"==this.type||"Table"==this.type?new e:instantiate(typeOf(this));for(var c=b.x;c<=b.y;c++)a.push(this[c]);return a.name=this.name,"List"==this.type||"Table"==this.type?a.getImproved():a},e.prototype.getSubListByType=function(a){var b=new e;return b.name=this.name,this.forEach(function(c){typeOf(c)==a&&b.push(c)}),b.getImproved()},e.prototype.getSubListByIndexes=function(){if(this.length<1)return this;var a;if(a="number"==typeOf(arguments[0])?arguments:arguments[0],null!=a){if("List"==this.type)var b=new e;else b=instantiate(typeOf(this));if(0==a.length)return b;b.name=this.name;var c,d=this.length,f=a.length;for(c=0;f>c;c++)a[c]<d&&b.push(this[(a[c]+this.length)%this.length]);return"List"==this.type||"Table"==this.type?b.getImproved():b}},e.prototype.getElementNumberOfOccurrences=function(a){for(var b=0,c=0,d=this.indexOf(a,c);d>-1;)b++,c=d+1,d=this.indexOf(a,c);return b},e.prototype.clone=function(){var a,b=instantiateWithSameType(this);for(a=0;null!=this[a];a++)b.push(this[a]);return b.name=this.name,b},e.prototype.getWithoutRepetitions=function(){var a,b;if(newList=instantiateWithSameType(this),newList.name=this.name,"NumberList"==this.type||"StringList"==this.type)for(b={},a=0;null!=this[a];a++)b[this[a]]||(newList.push(this[a]),b[this[a]]=!0);else for(a=0;null!=this[a];a++)-1==newList.indexOf(this[a])&&newList.push(this[a]);return newList},e.prototype.countElement=function(a){return n=0,this.forEach(function(b){a==b&&n++}),n},e.prototype.countOccurrences=function(){for(var a=new z,b=0;null!=this[b];b++)a[b]=this.indexesOf(this[b]).length;return a},e.prototype.getElementsRepetitionCount=function(a){a=null==a?!0:a;var b,c,d=new e,f=new z,g=this.length;for(i=0;i<g;i++)b=this[i],c=d.indexOf(b),-1!=c?f[c]++:(d.push(b),f.push(1));var h=new B;return h.push(d),h.push(f),a&&(h=h.getListsSortedByList(f,!1)),h},e.prototype.allElementsEqual=function(){var a;if(this.length<2)return!0;for(first=this[0],a=1;null!=this[a];a++)if(this[a]!=first)return!1;return!0},e.prototype.getMostRepeatedElement=function(){return ListOperators.countElementsRepetitionOnList(this,!0)[0][0]},e.prototype.getMin=function(){if(0==this.length)return null;var a,b=this[0];for(a=1;a<this.length;a++)b=Math.min(b,this[a]);return b},e.prototype.getMax=function(){if(0==this.length)return null;var a,b=this[0];for(a=1;a<this.length;a++)b=Math.max(b,this[a]);return b},e.prototype.add=function(a){if(a.constructor==Number){var b,c=instantiateWithSameType(this);for(b=0;b<this.length;b++)c.push(this[b]+a);return c}},e.prototype.getRandomElement=function(){return this[Math.floor(this.length*Math.random())]},e.prototype.getRandomElements=function(a,b){b=null==b?!0:b,a=Math.min(a,this.length);for(var c,d=instantiateWithSameType(this);d.length<a;)c=this[Math.floor(this.length*Math.random())],b&&-1!=d.indexOf(c)||d.push(c);return d},e.prototype.containsElement=function(a){var b;for(b=0;null!=this[b];b++)if(this[b]==a)return!0;return!1},e.prototype.indexOfElement=function(a){var b;for(b=0;null!=this[b];b++)if(this[b]==a)return b;return-1},e.prototype.getPropertyValues=function(a,b){var c=new e;c.name=a;for(var d,f=0;null!=this[f];f++)d=this[f][a],c[f]=null==d?b:d;return c.getImproved()},e.prototype.sortIndexed=function(){var a,b=[];for(a=0;a<this.length;a++)b.push({index:a,value:this[a]});var c=function(a,b){var c=a.value,d=b.value;return d>c?-1:c>d?1:0};b=b.sort(c);var d=new z;for(a=0;a<b.length;a++)d.push(b[a].index);return d},e.prototype.sortOnIndexes=function(a){var b=instantiateWithSameType(this);b.name=this.name;var c;for(c=0;null!=this[c];c++)-1!=a[c]&&b.push(this[a[c]]);return b},e.prototype.getSortedByProperty=function(a,b){b=null==b?!0:b;var c;return c=b?function(b,c){return b[a]>c[a]?1:-1}:function(b,c){return c[a]>b[a]?1:-1},this.clone().sort(c)},e.prototype.getSorted=function(a){a=null==a?!0:a;var b;return b=a?function(a,b){return a>b?1:-1}:function(a,b){return a>b?-1:1},this.clone().sort(b)},e.prototype.getSortedByList=function(a,b){b=null==b?!0:b;var c,d=[];for(c=0;null!=this[c];c++)d[c]=[this[c],a[c]];var e;e=b?function(a,b){return a[1]<b[1]?-1:1}:function(a,b){return a[1]<b[1]?1:-1},d=d.sort(e);var f=instantiateWithSameType(this);for(f.name=this.name,c=0;null!=this[c];c++)f[c]=d[c][0];return f},e.prototype.getSortedRandom=function(){var a=this.clone();return a.name=this.name,a.sort(function(a,b){return Math.random()<.5?1:-1}),a},e.prototype.indexesOf=function(a){for(var b=this.indexOf(a),c=new z;-1!=b;)c.push(b),b=this.indexOf(a,b+1);return c},e.prototype.indexOfElements=function(a){for(var b=new z,c=0;null!=a[c];c++)b[c]=this.indexOf(a[c]);return b},e.prototype.getFirstElementByName=function(a,b){for(var c=0;null!=this[c];c++)if(this[c].name==a)return b?c:this[c];return b?-1:null},e.prototype.getElementsByNames=function(a,b){var c,d=b?new z:new e;return a.forEach(function(a){for(c=0;null!=this[c];c++)if(this[c].name==a){d.push(b?c:this[c]);break}d.push(b?-1:null)}),b?d:d.getImproved()},e.prototype.getFirstElementByPropertyValue=function(a,b){for(var c=0;null!=this[c];c++)if(this[c][a]==b)return this[c];return null},e.prototype.indexOfByPropertyValue=function(a,b){for(var c=0;null!=this[c];c++)if(this[c][a]==b)return c;return-1},e.prototype.getFilteredByBooleanList=function(a){var b=new e;b.name=this.name;var c;for(c=0;null!=this[c];c++)a[c]&&b.push(this[c]);return b.getImproved()},e.prototype.getFilteredByValue=function(a,b){b=null==b?"equal":b;var c=new e;c.name="filtered_"+this.name;var d;switch(b){case"equal":for(d=0;null!=this[d];d++)this[d][propertyName]==propertyValue&&c.push(this[d]);break;case"different":for(d=0;null!=this[d];d++)this[d][propertyName]!=propertyValue&&c.push(this[d]);break;case"greater":for(d=0;null!=this[d];d++)this[d][propertyName]>propertyValue&&c.push(this[d]);break;case"lower":for(d=0;null!=this[d];d++)this[d][propertyName]>propertyValue&&c.push(this[d])}return c.getImproved()},e.prototype.getFilteredByPropertyValue=function(a,b,c){c=null==c?"equal":c;var d=new e;d.name="filtered_"+this.name;var f;switch(c){case"equal":for(f=0;null!=this[f];f++)this[f][a]==b&&d.push(this[f]);break;case"different":for(f=0;null!=this[f];f++)this[f][a]!=b&&d.push(this[f]);break;case"greater":for(f=0;null!=this[f];f++)this[f][a]>b&&d.push(this[f]);break;case"lower":for(f=0;null!=this[f];f++)this[f][a]>b&&d.push(this[f])}return d.getImproved()},e.prototype.toNumberList=function(){var a=new z;a.name=this.name;var b;for(b=0;null!=this[b];b++)a[b]=Number(this[b]);return a},e.prototype.toStringList=function(){var a,b=new v;for(b.name=this.name,a=0;null!=this[a];a++)"number"==typeof this[a]?b[a]=String(this[a]):b[a]=this[a].toString();return b},e.prototype.applyFunction=function(a){var b=new e;b.name=this.name;var c;for(c=0;null!=this[c];c++)b[c]=a(this[c]);return b.getImproved()},e.prototype.getWithoutElementsAtIndexes=function(a){var b;if("List"==this.type)var c=new e;else c=instantiate(typeOf(this));for(b=0;b<this.length;b++)-1==a.indexOf(b)&&c.push(this[b]);return"List"==this.type?c.getImproved():c},e.prototype.getWithoutElementAtIndex=function(a){if("List"==this.type)var b=new e;else var b=instantiateWithSameType(this);for(var c=0;null!=this[c];c++)c!=a&&b.push(this[c]);return b.name=this.name,"List"==this.type?b.getImproved():b},e.prototype.getWithoutElement=function(a){var b=this.indexOf(a);if(-1==b)return this;if("List"==this.type)var c=new e;else var c=instantiateWithSameType(this);c.name=this.name;var d;for(d=0;null!=this[d];d++)d!=b&&c.push(this[d]);return"List"==this.type?c.getImproved():c},e.prototype.getWithoutElements=function(a){if("List"==this.type)var b=new e;else var b=instantiateWithSameType(this);for(var c=0;null!=this[c];c++)-1==a.indexOf(this[c])&&b.push(this[c]);return b.name=this.name,"List"==this.type?b.getImproved():b},e.prototype.getFilteredByFunction=function(a){for(var b=instantiateWithSameType(this),c=0;null!=this[c];c++)a(this[c])&&b.push(this[c]);return b.name=this.name,"List"==this.type?b.getImproved():b},e.prototype.concat=function(){if(null==arguments[0])return this;if(arguments[0].type==this.type){if("NumberList"==this.type)return z.fromArray(this._concat.apply(this,arguments),!1);if("StringList"==this.type)return v.fromArray(this._concat.apply(this,arguments),!1);if("NodeList"==this.type)return m.fromArray(this._concat.apply(this,arguments),!1);if("DateList"==this.type)return f.fromArray(this._concat.apply(this,arguments),!1);if("Table"==this.type)return B.fromArray(this._concat.apply(this,arguments),!1);if("NumberTable"==this.type)return r.fromArray(this._concat.apply(this,arguments),!1)}return e.fromArray(this._concat.apply(this,arguments)).getImproved()},e.prototype.getReport=function(a){var b,c="\n"+(a>0?StringOperators.repeatString("  ",a):""),d=a>0?c+"////report of instance of List////":"///////////report of instance of List//////////",e=this.length;if(d+=c+"name: "+this.name,d+=c+"type: "+this.type,0==e)return d+=c+"single element: ["+this[0]+"]";switch(d+=c+"length: "+e,d+=c+"first element: ["+this[0]+"]",this.type){case"NumberList":var f=this.getMin(),g=this.getMax(),h=.5*(f+g);d+=c+"min: "+f,d+=c+"max: "+g,d+=c+"average: "+h,101>e&&(d+=c+"numbers: "+this.join(", "));break;case"StringList":case"List":var i=this.getElementsRepetitionCount(!0);for(d+=c+"number of different elements: "+i[0].length,d+=i[0].length<10?c+"elements frequency:":c+"some elements frequency:",b=0;null!=i[0][b]&&10>b;b++)d+=c+"  ["+String(i[0][b])+"]: "+i[1][b];var j;j="List"==this.type?this.join("], ["):this.toStringList().join("], ["),j.length<2e3&&(d+=c+"strings: ["+j+"]")}return d},e.prototype.pushIfUnique=function(a){-1==this.indexOf(a)&&this.push(a)},e.prototype.removeElements=function(a){for(var b=0;b<this.length;b++)a.indexOf(this[b])>-1&&(this.splice(b,1),b--)},e.prototype.removeElement=function(a){var b=this.indexOf(a);-1!=b&&this.splice(b,1)},e.prototype.removeElementAtIndex=function(a){this.splice(a,1)},e.prototype.removeElementsAtIndexes=function(a){a=a.sort(function(a,b){return a-b});for(var b=0;null!=a[b];b++)this.splice(a[b]-b,1)},e.prototype.removeRepetitions=function(){for(var a=0;null!=this[a];a++)-1!=this.indexOf(this[a],a+1)&&this.splice(a,1)},e.prototype.replace=function(a,b){for(var c=this.length,d=0;c>d;d++)this[d]==a&&(this[d]=b)},e.prototype.assignNames=function(a){if(null==a)return this;var b=a.length;return this.forEach(function(c,d){c.name=a[d%b]}),this},e.prototype.splice=function(){switch(this.type){case"NumberList":return z.fromArray(this._splice.apply(this,arguments));case"StringList":return v.fromArray(this._splice.apply(this,arguments));case"NodeList":return m.fromArray(this._splice.apply(this,arguments));case"DateList":return f.fromArray(this._splice.apply(this,arguments))}return e.fromArray(this._splice.apply(this,arguments)).getImproved()},e.prototype.destroy=function(){for(var a=0;null!=this[a];a++)delete this[a]},a.List=t,f.prototype=new t,f.prototype.constructor=f,f.fromArray=function(a,b){b=null==b?!0:b;var c=t.fromArray(a);if(b)for(var d=0;d<c.length;d++)c[d]=Date(c[d]);return c.type="DateList",c.getTimes=f.prototype.getTimes,c.toStringList=f.prototype.toStringList,c.getMin=f.prototype.getMin,c.getMax=f.prototype.getMax,c},f.prototype.getTimes=function(){var a,b=new z;for(a=0;null!=this[a];a++)b.push(this[a].getTime());return b},f.prototype.toStringList=function(){for(var a=new v,b=0;null!=this[b];b++)a[b]=d.dateToString(this[b]);return a},f.prototype.getMin=function(){if(0===this.length)return null;var a,b=this[0];for(a=1;null!=this[a];a++)b=b<this[a]?b:this[a];return b},f.prototype.getMax=function(){if(0===this.length)return null;var a,b=this[0];for(a=1;null!=this[a];a++)b=b>this[a]?b:this[a];return b};var u=g;g.ENTER=String.fromCharCode(13),g.ENTER2=String.fromCharCode(10),g.ENTER3=String.fromCharCode(8232),g.SPACE=String.fromCharCode(32),g.SPACE2=String.fromCharCode(160),g.TAB="	",g.TAB2=String.fromCharCode(9),g.LINK_REGEX=/(^|\s+)(https*\:\/\/\S+[^\.\s+])/,g.MAIL_REGEX=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,g.STOP_WORDS=StringList.fromArray("t,s,mt,rt,re,m,http,amp,a,able,about,across,after,all,almost,also,am,among,an,and,any,are,as,at,be,because,been,but,by,can,cannot,could,dear,did,do,does,either,else,ever,every,for,from,get,got,had,has,have,he,her,hers,him,his,how,however,i,if,in,into,is,it,its,just,least,let,like,likely,may,me,might,most,must,my,neither,no,nor,not,of,off,often,on,or,other,our,own,rather,said,say,says,she,should,since,so,some,than,that,the,their,them,then,there,these,they,this,tis,to,too,twas,us,wants,was,we,were,what,when,where,which,while,who,whom,why,will,with,would,yet,you,your".split(",")),g.split=function(a,b){return null==b?g.splitByEnter(a):StringList.fromArray(a.split(b))},g.splitByEnter=function(a){if(null==a)return null;var b=g.splitString(a,"\n");if(b.length>1)return b;var b=g.splitString(a,g.ENTER2);if(b.length>1)return b;var b=g.splitString(a,g.ENTER3);return b.length>1?b:new StringList(a)},g.replaceSubString=function(a,b,c){return null==a||null==b||null==c?null:a.replace(new RegExp(b,"g"),c)},g.replaceSubStringsByString=function(a,b,c){if(null!=b){return b.forEach(function(b){a=g.replaceSubString(a,b,c)}),a}},g.replaceSubStringsByStrings=function(a,b,c){if(null!=b&&null!=c){var d,e=Math.min(b.length,c.length);for(d=0;e>d;d++)a=g.replaceSubString(a,b[d],c[d]);return a}},g.substr=function(a,b,c){return b=b||0,a.substr(b,c)},g.splitString=function(a,b){return null==a?null:(null==b&&(b=","),"string"==typeof b&&(b=b.replace("\\n","\n")),-1==a.indexOf(b)?new StringList(a):StringList.fromArray(a.split(b)))},g.getFirstTextBetweenStrings=function(a,b,c){var d=a.indexOf(b);if(-1==d)return null;if(""==c||null==c)return a.substr(d+b.length);var e=a.indexOf(c,d+b.length+1);return-1==e?a.substring(d+b.length):a.substr(d+b.length,e-(d+b.length))},g.getAllTextsBetweenStrings=function(a,b,c){if(-1==a.indexOf(b))return new StringList;var d,e,f,g=a.split(b),h=g.length,i=new StringList;for(f=1;h>f;f++)d=g[f],c==b?i.push(d):(e=d.indexOf(c),e>=0&&i.push(d.substr(0,e)));return i},g.countWordsDichotomyAnalysis=function(a,b,c,d){var e=0;return b.forEach(function(b){e-=g.countWordOccurrences(a,b)}),c.forEach(function(b){e+=g.countWordOccurrences(a,b)}),d&&(e/=a.length),e},g.getLinksFromHtml=function(a,b,c){var d=document.createElement("html");d.innerHTML=a;var e,f,g,h,i,j,k,l=d.getElementsByTagName("a"),m=new StringList;if(b=""==b?null:b,c=null==c?!1:c,b){b=b.trim(),".html"==b.substr(-5)&&(i=b.split("/"),b=i.slice(0,i.length-1).join("/")),"/"==b.indexOf(-1)&&(b=b.substr(0,b.length-1)),i=b.split("/");var n=b.replace("//","**").split("/")[0].replace("**","//")}for(e=0;e<l.length;e++)if(f=g=l[e].getAttribute("href"),null!=g){for(-1!=g.indexOf("=")&&(g=g.split("=")[0]),b&&-1==g.indexOf("http://")&&-1==g.indexOf("https://")&&-1==g.indexOf("wwww.")&&-1==g.indexOf("file:")&&-1==g.indexOf("gopher:")&&0!=g.indexOf("//")&&(g="../../../"==g.substr(0,9)?i.slice(0,i.length-3).join("/")+"/"+g.substr(9):"../../"==g.substr(0,6)?i.slice(0,i.length-2).join("/")+"/"+g.substr(6):"../"==g.substr(0,3)?i.slice(0,i.length-1).join("/")+"/"+g.substr(3):"/"==g.charAt(0)?n+g:b+"/"+g),c&&-1!=g.indexOf("#")&&(g=g.split("#")[0]),"/"==g.substr(-1)&&(g=g.substr(0,g.length-1)),h=g.indexOf("/../");-1!=h;)k=g.split("/../"),j=k[0].replace("//","**").split("/"),g=j.slice(0,j.length-1).join("/").replace("**","//")+("/"+k.slice(1).join("/../")),h=g.indexOf("/../");-1!=g.indexOf("./")&&(j=g.replace("//","**").split("/"),"."==j[0].substr(-1)&&(j[0]=j[0].substr(0,j[0].length-1),g=j.join("/").replace("**","//"))),g=g.trim(),"/"==g.substr(-1)&&(g=g.substr(0,g.length-1)),g!=b&&m.push(g)}return m=m.getWithoutRepetitions()},g.textContainsString=function(a,b,c,d){return a=d?b:a.toLowerCase(),b=d?b:b.toLowerCase(),c?a.match(new RegExp("\\b"+b+"\\b")).length>0:-1!=a.indexOf(b)},g.logInConsole=function(a,b){b=null==b?!0:b,b&&c.log("///////////////////////////////////////////////////"),c.log(a),b&&c.log("///////////////////////////////////////////////////")},g.getParenthesisContents=function(a,b){for(var c=new StringList,d=a,e=g.getFirstParenthesisContentWithIndexes(a,b),f=0;""!=e.content&&e.index1<d.length-1&&f<a.length;)c.push(e.content),d=d.substr(e.index1+2),e=g.getFirstParenthesisContentWithIndexes(d,b),f++;return c},g.getFirstParenthesisContent=function(a,b){return g.getFirstParenthesisContentWithIndexes(a,b).content},g.getFirstParenthesisContentWithIndexes=function(a,b){var c=b?"[":"(",d=b?"]":")",e=b?/\[/g:/\(/g,f=b?/\]/g:/\)/g,g=a.indexOf(c);if(-1==g)return{content:"",index0:0,index1:0};for(var h=a.indexOf(d),i=a.substring(g+1,h),j=i.match(e),k=i.match(f),l=(null==j?0:j.length)-(null==k?0:k.length),m=0;(l>0||-1==h)&&m<a.length;)h=a.indexOf(d,h),i=a.substring(g+1,h+1),h++,j=i.match(e),k=i.match(f),l=(null==j?0:j.length)-(null==k?0:k.length),m++;return h=a.indexOf(d,h),{content:-1==h?a.substring(g+1):a.substring(g+1,h),index0:g+1,index1:-1==h?a.length-1:h-1}},g.placeString=function(a,b,c){return a.substr(0,c)+b+a.substr(c+b.length)},g.insertString=function(a,b,c){return a.substr(0,c)+b+a.substr(c)},g.removeEnters=function(a){return a.replace(/(\StringOperators.ENTER|\StringOperators.ENTER2|\StringOperators.ENTER3)/gi," ")},g.removeTabs=function(a){return a.replace(/(\StringOperators.TAB|\StringOperators.TAB2|\t)/gi,"")},g.removePunctuation=function(a,b){return b=b||"",a.replace(/[:,.;?!\(\)\"\']/gi,b)},g.removeDoubleSpaces=function(a){for(var b=a,c=RegExp(/  /);c.test(b);)b=b.replace(c," ");return b},g.removeInitialRepeatedCharacter=function(a,b){for(;a.charAt(0)==b;)a=a.substr(1);return a},g.removeHtmlTags=function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.textContent||b.innerText},g.removeLinks=function(a){a+=" ";var b=/http:\/\/[a-zA-Z0-9\/\.]+( |:|;|\r|\t|\n|\v)/g;return a.replace(b," ").substr(0,a.length-2)},g.removeQuotes=function(a){return'"'==a.charAt(0)&&(a=a.substr(1)),'"'==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),a},g.getWords=function(a,b,c,d,e,f,h){if(null==a)return null;h=h||0,b=null==b?!0:b,d=null==d?!0:d,e=null==e?!0:e,f=null==f?0:f;var i,j;if(e)var k=a.match(g.LINK_REGEX);a=a.toLowerCase().replace(g.LINK_REGEX,"");var l=a.match(/\w+/g);if(null==l)return new StringList;if(e&&null!=k&&(l=l.concat(k)),l=StringList.fromArray(l).replace(/ /g,""),null!=c)for(i=0;null!=l[i];i++)for(j=0;null!=c[j];j++)if("string"==typeof c[j]){if(c[j]==l[i]){l.splice(i,1),i--;break}}else if(c[j].test(l[i])){l.splice(i,1),i--;break}if(h>0)for(i=0;null!=l[i];i++)l[i].length<h&&(l.splice(i,1),i--);if(d){if(b)return l=ListOperators.countElementsRepetitionOnList(l,!0)[0],0!=f&&(l=l.substr(0,f)),l;var m=ListOperators.countOccurrencesOnList(l);return l=l.getSortedByList(m),0!=f&&(l=l.substr(0,f)),l}return b&&(l=l.getWithoutRepetitions()),0!=f&&(l=l.splice(0,f)),l},removeAccentsAndDiacritics=function(a){var b=a.replace(new RegExp(/[àáâãäå]/g),"a");return b=b.replace(new RegExp(/æ/g),"ae"),b=b.replace(new RegExp(/ç/g),"c"),b=b.replace(new RegExp(/[èéêë]/g),"e"),b=b.replace(new RegExp(/[ìíîï]/g),"i"),b=b.replace(new RegExp(/ñ/g),"n"),b=b.replace(new RegExp(/[òóôõö]/g),"o"),b=b.replace(new RegExp(/œ/g),"oe"),b=b.replace(new RegExp(/[ùúûü]/g),"u"),b=b.replace(new RegExp(/[ýÿ]/g),"y"),b=b.replace(new RegExp(/[ÀÁÂÄÃ]/g),"A"),b=b.replace(new RegExp(/Æ/g),"AE"),b=b.replace(new RegExp(/Ç/g),"c"),b=b.replace(new RegExp(/[ÈÉÊË]/g),"E"),b=b.replace(new RegExp(/[ÌÍÎÏ]/g),"I"),b=b.replace(new RegExp(/Ñ/g),"N"),b=b.replace(new RegExp(/[ÒÓÔÖÕ]/g),"O"),b=b.replace(new RegExp(/Œ/g),"OE"),b=b.replace(new RegExp(/[ÙÚÛÜ]/g),"U"),b=b.replace(new RegExp(/[Ÿ]/g),"Y")},g.getWordsOccurrencesTable=function(a,b,c,d,e){if(null!=a){if(0==a.length)return new Table(new StringList,new NumberList);var f=g.getWords(a,!1,b,!1,c,d,e);return ListOperators.countElementsRepetitionOnList(f,!0,!1,d)}},g.indexesOf=function(a,b){var c=a.indexOf(b);if(-1==c)return new NumberList;var d=new NumberList(c);for(c=a.indexOf(b,c+1);-1!=c;)d.push(c),c=a.indexOf(b,c+1);return d},g.repeatString=function(a,b){var c,d="";for(c=0;b>c;c++)d+=a;return d},g.countOccurrences=function(a,b){for(var c=0,d=a.indexOf(b);-1!=d;)c++,d=a.indexOf(b,d+b.length);return c},g.countWordOccurrences=function(a,b){var c=new RegExp("\\b"+b+"\\b"),d=a.match(c);return null==d?0:d.length},g.countStringsOccurrences=function(a,b){var c,d=new NumberList;for(c=0;null!=b[c];c++)d[c]=a.split(b[c]).length-1;return d},g.validateEmail=function(a){return g.MAIL_REGEX.test(a)},g.validateUrl=function(a){return g.LINK_REGEX.test(a)},h.prototype=new t,h.prototype.constructor=h;var v=h;h.fromArray=function(a,b){b=null==b?!0:b;var c=t.fromArray(a);if(b)for(var d=0;d<c.length;d++)c[d]=String(c[d]);return c.type="StringList",c.getLengths=h.prototype.getLengths,c.toLowerCase=h.prototype.toLowerCase,c.toUpperCase=h.prototype.toUpperCase,c.append=h.prototype.append,c.getSurrounded=h.prototype.getSurrounded,c.replace=h.prototype.replace,c.getConcatenated=h.prototype.getConcatenated,c.toNumberList=h.prototype.toNumberList,c.toDateList=h.prototype.toDateList,c.trim=h.prototype.trim,c.clone=h.prototype.clone,c},h.prototype.getLengths=function(){var a=new z;return this.forEach(function(b){a.push(b.length)}),a},h.prototype.append=function(a,b){b=null==b?!0:b;var c=new h;c.name=this.name;var d,e="StringList"==typeOf(a);if(b)for(d=0;null!=this[d];d++)c[d]=this[d]+(e?a[d]:a);else for(d=0;null!=this[d];d++)c[d]=(e?a[d]:a)+this[d];return c},h.prototype.getSurrounded=function(a,b){var c=new h;c.name=this.name;var d,e=Array.isArray(a),f=Array.isArray(b);for(d=0;null!=this[d];d++)c[d]=(e?a[d]:a)+this[d]+(f?b[d]:b);return c},h.prototype.replace=function(a,b){var c=new h;c.name=this.name;for(var d=0;null!=this[d];d++)c[d]=this[d].replace(a,b);return c},h.prototype.replaceSubStringsInStrings=function(a,b){var c=new h;c.name=this.name;for(var d=0;null!=this[d];d++)c[d]=u.replaceString(string,a,b);return c},h.prototype.getConcatenated=function(a){var b,c="";for(b=0;null!=this[b];b++)c+=this[b],
b<this.length-1&&(c+=a);return c},h.prototype.toLowerCase=function(){var a=new h;a.name=this.name;var b;for(b=0;null!=this[b];b++)a[b]=this[b].toLowerCase();return a},h.prototype.toUpperCase=function(){var a=new h;a.name=this.name;var b;for(b=0;null!=this[b];b++)a[b]=this[b].toUpperCase();return a},h.prototype.toNumberList=function(){var a=new z;a.name=this.name;var b;for(b=0;null!=this[b];b++)a[b]=Number(this[b]);return a},h.prototype.toDateList=function(a,b){var c,e=new f;for(c=0;null!=this[c];c++)e.push(d.stringToDate(this[c],a,b));return e},h.prototype.trim=function(){var a,b=new h;for(a=0;null!=this[a];a++)b[a]=this[a].trim();return b.name=this.name,b},h.prototype.clone=function(){var a=h.fromArray(this.slice(),!1);return a.name=this.name,a},k.prototype=new Point,k.prototype.constructor=k;var w=k;k.prototype.getMin=function(){return Math.min(x,y)},k.prototype.getMax=function(){return Math.max(x,y)},k.prototype.getAmplitude=function(){return Math.abs(this.x-this.y)},k.prototype.getSignedAmplitude=function(){return this.x-this.y},k.prototype.getMiddle=function(){return.5*(this.x+this.y)},k.prototype.getSign=function(){return this.x==this.y?0:this.getAmplitude()/this.getSignedAmplitude()},k.prototype.getScaled=function(a){var b=.5*(this.y-this.x),c=.5*(this.x+this.y);return new k(c-b*a,c+b*a)},k.prototype.getScaledFromProportion=function(a,b){var c=1-b,d=b*(this.y-this.x),e=c*(this.y-this.x),f=c*this.x+b*this.y;return new k(f-d*a,f+e*a)},k.prototype.add=function(a){return new k(this.x+a,this.y+a)},k.prototype.invert=function(){var a=this.x;this.x=this.y,this.y=a},k.prototype.getInterpolatedValue=function(a){return a*Number(this.getSignedAmplitude())+this.x},k.prototype.getInverseInterpolatedValue=function(a){return(a-this.x)/this.getSignedAmplitude()},k.prototype.getInterpolatedValues=function(a){for(var b=[],c=a.length,d=0;c>d;d++)b.push(this.getInterpolatedValue(a[d]));return b},k.prototype.getInverseInterpolatedValues=function(a){for(var b=[],c=a.length,d=0;c>d;d++)b.push(this.getInverseInterpolatedValue(a[d]));return b},k.prototype.intersect=function(a){return new k(Math.max(this.x,a.x),Math.min(this.y,a.y))},k.prototype.clone=function(){var a=new k(this.x,this.y);return a.name=name,a},k.prototype.contains=function(a){return this.y>this.x?a>=this.x&&a<=this.y:a>=this.y&&a<=this.y},k.prototype.isEquivalent=function(a){return this.x==a.x&&this.y==a.y},k.prototype.toString=function(){return"Interval[x:"+this.x+"| y:"+this.y+"| amplitude:"+this.getAmplitude()+"]"},l.prototype=new t,l.prototype.constructor=l;var z=l;l.fromArray=function(a,b){b=null==b?!0:b;var c=t.fromArray(a);if(b)for(var d=0;d<c.length;d++)c[d]=Number(c[d]);return c.type="NumberList",c.unit=l.prototype.unit,c.tenPower=l.prototype.tenPower,c.getMin=l.prototype.getMin,c.getMax=l.prototype.getMax,c.getAmplitude=l.prototype.getAmplitude,c.getMinMaxInterval=l.prototype.getMinMaxInterval,c.getSum=l.prototype.getSum,c.getProduct=l.prototype.getProduct,c.getInterval=l.prototype.getInterval,c.getNormalized=l.prototype.getNormalized,c.getNormalizedToMax=l.prototype.getNormalizedToMax,c.getNormalizedToSum=l.prototype.getNormalizedToSum,c.toPolygon=l.prototype.toPolygon,c.getAverage=l.prototype.getAverage,c.getNorm=l.prototype.getNorm,c.getStandardDeviation=l.prototype.getStandardDeviation,c.getVariance=l.prototype.getVariance,c.getMedian=l.prototype.getMedian,c.getQuantiles=l.prototype.getQuantiles,c.getSorted=l.prototype.getSorted,c.getSortIndexes=l.prototype.getSortIndexes,c.factor=l.prototype.factor,c.add=l.prototype.add,c.subtract=l.prototype.subtract,c.divide=l.prototype.divide,c.dotProduct=l.prototype.dotProduct,c.distance=l.prototype.distance,c.sqrt=l.prototype.sqrt,c.pow=l.prototype.pow,c.log=l.prototype.log,c.isEquivalent=l.prototype.isEquivalent,c.toStringList=l.prototype.toStringList,c.approach=l.prototype.approach,c.clone=l.prototype.clone,c._slice=Array.prototype.slice,c.slice=l.prototype.slice,c},l.prototype.unit="",l.prototype.tenPower=0,l.prototype.getMin=function(){if(0==this.length)return null;var a,b=this[0];for(a=1;a<this.length;a++)b=Math.min(b,this[a]);return b},l.prototype.getMax=function(){if(0==this.length)return null;var a,b=this[0];for(a=1;a<this.length;a++)b=Math.max(b,this[a]);return b},l.prototype.getAmplitude=function(){if(0==this.length)return 0;for(var a=this[0],b=this[0],c=1;null!=this[c];c++)a=Math.min(a,this[c]),b=Math.max(b,this[c]);return b-a},l.prototype.getMinMaxInterval=function(){return new w(this.getMin(),this.getMax())},l.prototype.getSum=function(){if(0==this.length)return 0;var a,b=this[0];for(a=1;a<this.length;a++)b+=this[a];return b},l.prototype.getProduct=function(){if(0==this.length)return null;var a,b=this[0];for(a=1;a<this.length;a++)b*=this[a];return b},l.prototype.getNormalizedToSum=function(a,b){a=null==a?1:a;var c=new l;if(c.name=this.name,0==this.length)return c;var d,b=null==b?this.getSum():b;if(0==b)return this.clone();for(d=0;d<this.length;d++)c.push(a*this[d]/b);return c},l.prototype.getNormalized=function(a){if(a=null==a?1:a,0==this.length)return null;var b,c=this.getMinMaxInterval(),d=c.getAmplitude(),e=new l;for(b=0;b<this.length;b++)e.push(a*((this[b]-c.x)/d));return e.name=this.name,e},l.prototype.getNormalizedToMax=function(a){if(a=null==a?1:a,0==this.length)return null;var b=this.getMax();if(0==b&&(b=this.getMin(),0==b))return ListGenerators.createListWithSameElement(this.length,0);for(var c=new l,d=0;null!=this[d];d++)c.push(a*(this[d]/b));return c.name=this.name,c},l.prototype.getInterval=function(){if(0==this.length)return null;for(var a=this[0],b=this[0],c=1;null!=this[c];c++)a=Math.max(a,this[c]),b=Math.min(b,this[c]);var d=new w(b,a);return d},l.prototype.toPolygon=function(){if(0==this.length)return null;for(var a=new Polygon,b=0;null!=this[b+1];b+=2)a.push(new Point(this[b],this[b+1]));return a},l.prototype.getAverage=function(){return this.getSum()/this.length},l.prototype.getGeometricMean=function(){var a=0;return this.forEach(function(b){a+=Math.log(b)}),Math.pow(Math.E,a/this.length)},l.prototype.getNorm=function(){for(var a=0,b=0;null!=this[b];b++)a+=Math.pow(this[b],2);return Math.sqrt(a)},l.prototype.getVariance=function(){for(var a=0,b=this.getAverage(),c=0;null!=this[c];c++)a+=Math.pow(this[c]-b,2);return a/this.length},l.prototype.getStandardDeviation=function(){return Math.sqrt(this.getVariance())},l.prototype.getMedian=function(a){var b=this.getSorted(!0),c=(this.length-1)/2,d=Math.floor(c),e=c==d;new l;return e?b[c]:.5*b[d]+.5*b[d+1]},l.prototype.getQuantiles=function(a){for(var b=this.getSorted(!0),c=this.length/a,d=Math.floor(c),e=c==d,f=new l,g=0;a-1>g;g++)f[g]=e?b[(g+1)*c]:.5*b[(g+1)*d]+.5*b[(g+1)*d+1];return f},l.prototype.getSorted=function(a){return a=null==a?!0:a,a?l.fromArray(this.slice().sort(function(a,b){return a-b}),!1):l.fromArray(this.slice().sort(function(a,b){return b-a}),!1)},l.prototype.getSortIndexes=function(a){null==a&&(a=!0);var b=[],c=new l;if(0==this.length)return c;for(var d=0;null!=this[d];d++)b.push([d,this[d]]);for(a?b.sort(function(a,b){return a[1]<b[1]?1:-1}):b.sort(function(a,b){return a[1]<b[1]?-1:1}),d=0;null!=b[d];d++)c.push(b[d][0]);return c.name=this.name,c},l.prototype.factor=function(a){var b,c=new l;for(b=0;b<this.length;b++)c.push(this[b]*a);return c.name=this.name,c},l.prototype.add=function(a){var b,c=new l,d=typeOf(a);switch(d){case"number":for(b=0;null!=this[b];b++)c[b]=this[b]+a;break;case"NumberList":for(b=0;null!=this[b];b++)c[b]=this[b]+a[b%a.length]}return c.name=this.name,c},l.prototype.subtract=function(a){var b,c=new l,d=typeOf(a);switch(d){case"number":for(b=0;null!=this[b];b++)c[b]=this[b]-a;break;case"NumberList":for(b=0;null!=this[b];b++)c[b]=this[b]-a[b%a.length]}return c.name=this.name,c},l.prototype.divide=function(a){var b,c=new l,d=typeOf(a);switch(d){case"number":for(b=0;null!=this[b];b++)c[b]=this[b]/a;break;case"NumberList":for(b=0;null!=this[b];b++)c[b]=this[b]/a[b%a.length]}return c.name=this.name,c},l.prototype.sqrt=function(){var a,b=new l;for(a=0;a<this.length;a++)b.push(Math.sqrt(this[a]));return b.name=this.name,b},l.prototype.pow=function(a){var b,c=new l;for(b=0;b<this.length;b++)c.push(Math.pow(this[b],a));return c.name=this.name,c},l.prototype.log=function(a){a=a||0;var b,c=new l;for(b=0;null!=this[b];b++)c[b]=Math.log(this[b]+a);return c.name=this.name,c},l.prototype.dotProduct=function(a){var b,c=0,d=Math.min(this.length,a.length);for(b=0;d>b;b++)c+=this[b]*a[b];return c},l.prototype.distance=function(a){var b,c=0,d=Math.min(this.length,a.length);for(b=0;d>b;b++)c+=Math.pow(this[b]-a[b],2);return Math.sqrt(c)},l.prototype.isEquivalent=function(a){for(i=0;null!=this[i];i++)if(this[i]!=a[i])return!1;return!0},l.prototype.toStringList=function(){var a,b=new v;for(a=0;null!=this[a];a++)b[a]=String(this[a]);return b.name=this.name,b},l.prototype.approach=function(a,b){b=b||.5;var c,d=1-b;for(c=0;null!=this[c];c++)this[c]=d*this[c]+b*a[c]},l.prototype.clone=function(){var a=l.fromArray(this._slice(),!1);return a.name=this.name,a},l.prototype.slice=function(){return l.fromArray(this._slice.apply(this,arguments),!1)},m.prototype=new t,m.prototype.constructor=m,m.fromArray=function(a,b){b=null==b?!1:b;var d=t.fromArray(a);if(b)for(var e=0;e<d.length;e++)d[e]="Node"==typeOf(d[e])?d[e]:new Node(String(d[e]),String(d[e]));var d=t.fromArray(a);return d.type="NodeList",d.ids={},Array(),d.deleteNodes=m.prototype.deleteNodes,d.addNode=m.prototype.addNode,d.addNodes=m.prototype.addNodes,d.removeNode=m.prototype.removeNode,d.removeNodeAtIndex=m.prototype.removeNodeAtIndex,d.getNodeByName=m.prototype.getNodeByName,d.getNodeById=m.prototype.getNodeById,d.getNodesByIds=m.prototype.getNodesByIds,d.getNewId=m.prototype.getNewId,d.normalizeWeights=m.prototype.normalizeWeights,d.getWeights=m.prototype.getWeights,d.getIds=m.prototype.getIds,d.getDegrees=m.prototype.getDegrees,d.getPolygon=m.prototype.getPolygon,d._push=Array.prototype.push,d.push=function(a){c.l("with nodeList, use addNode instead of push");var b;b.push(a)},d.getWithoutRepetitions=m.prototype.getWithoutRepetitions,d.clone=m.prototype.clone,d},m.prototype.removeNodes=function(){for(var a=0;a<this.length;a++)this.ids[this[a].id]=null,this.removeElement(this[a])},m.prototype.addNode=function(a){this.ids[a.id]=a,this._push(a)},m.prototype.addNodes=function(a){var b;for(b=0;null!=a[b];b++)this.addNode(a[b])},m.prototype.removeNode=function(a){this.ids[a.id]=null,this.removeElement(a)},m.prototype.removeNodeAtIndex=function(a){this.ids[this[a].id]=null,this.splice(a,1)},m.prototype.normalizeWeights=function(){var a,b=-9999999;for(a=0;null!=this[a];a++)b=Math.max(this[a].weight,b);for(a=0;null!=this[a];a++)this[a].weight/=b},m.prototype.getNodeByName=function(a){var b;for(b=0;b<this.length;b++)if(this[b].name==a)return this[b];return null},m.prototype.getNodeById=function(a){return this.ids[a]},m.prototype.getNodesByIds=function(a){newNodelist=new m;for(var b,c=0;null!=a[c];c++)b=this.ids[a[c]],null!=b&&(newNodelist[c]=b);return newNodelist},m.prototype.getWeights=function(){for(var a=new NumberList,b=0;null!=this[b];b++)a[b]=this[b].weight;return a},m.prototype.getIds=function(){for(var a=new StringList,b=0;null!=this[b];b++)a[b]=this[b].id;return a},m.prototype.getDegrees=function(){for(var a=new NumberList,b=0;null!=this[b];b++)a[b]=this[b].nodeList.length;return a},m.prototype.getPolygon=function(){for(var a=new Polygon,b=0;null!=this[b];b++)a[b]=new Point(this[b].x+cX,this[b].y+cY);return a},m.prototype.getNewId=function(){for(var a=this.length+1,b=0;a>b;b++)if(null==this.getNodeById(String(b)))return String(b)},m.prototype.clone=function(){var a=new m;return this.forEach(function(b){a.addNode(b)}),a.name=this.name,a},m.prototype.getWithoutRepetitions=function(){for(newList=new m,newList.name=this.name,i=0;null!=this[i];i++)null==newList.getNodeById(this[i].id)&&newList.addNode(this[i]);return newList},o.prototype=new List,o.prototype.constructor=o;var A=o;o.fromArray=function(a){var b=List.fromArray(a);return b.type="Polygon",b.getFrame=o.prototype.getFrame,b.getBarycenter=o.prototype.getBarycenter,b.add=o.prototype.add,b.factor=o.prototype.factor,b.getRotated=o.prototype.getRotated,b.getClosestPoint=o.prototype.getClosestPoint,b.toNumberList=o.prototype.toNumberList,b.containsPoint=o.prototype.containsPoint,b.approach=o.prototype.approach,b.clone=o.prototype.clone,b},o.prototype.getFrame=function(){if(0==this.length)return null;for(var a,b=new Rectangle(this[0].x,this[0].y,this[0].x,this[0].y),c=1;null!=this[c];c++)a=this[c],b.x=Math.min(b.x,a.x),b.y=Math.min(b.y,a.y),b.width=Math.max(b.width,a.x),b.height=Math.max(b.height,a.y);return b.width-=b.x,b.height-=b.y,b},o.prototype.getBarycenter=function(a){var b;if(a=null==a?!0:a,cLPN=1-Number(a),0==this.length)return null;var c=new Point(this[0].x,this[0].y);for(b=1;null!=this[b+cLPN];b++)c.x+=this[b].x,c.y+=this[b].y;return c.x/=this.length,c.y/=this.length,c},o.prototype.add=function(a){var b,c=typeOf(a);switch(c){case"Point":var d=new o;for(b=0;null!=this[b];b++)d[b]=this[b].add(a);return d.name=this.name,d}},o.prototype.factor=function(a){var b,c=new o;if(c.name=this.name,a>=0||0>a){for(b=0;null!=this[b];b++)c[b]=new Point(this[b].x*a,this[b].y*a);return c}if(null!=a.type&&"Point"==a.type){for(b=0;null!=this[b];b++)c[b]=new Point(this[b].x*a.x,this[b].y*a.y);return c}return null},o.prototype.getRotated=function(a,b){b=null==b?new Point:b;for(var c=new o,d=0;null!=this[d];d++)c[d]=new Point(Math.cos(a)*(this[d].x-b.x)-Math.sin(a)*(this[d].y-b.y)+b.x,Math.sin(a)*(this[d].x-b.x)+Math.cos(a)*(this[d].y-b.y)+b.y);return c.name=this.name,c},o.prototype.getClosestPoint=function(a){for(var b,c=this[0],d=Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2),e=1;null!=this[e];e++)b=Math.pow(a.x-this[e].x,2)+Math.pow(a.y-this[e].y,2),d>b&&(d=b,c=this[e]);return c},o.prototype.toNumberList=function(){var a,b=new NumberList;for(a=0;null!=this[a];a++)b[2*a]=this[a].x,b[2*a+1]=this[a].y;return b},o.prototype.containsPoint=function(a){for(var b,c,d,e=!1,b=-1,d=this.length,c=d-1;++b<d;c=b)(this[b].y<=a.y&&a.y<this[c].y||this[c].y<=a.y&&a.y<this[b].y)&&a.x<(this[c].x-this[b].x)*(a.y-this[b].y)/(this[c].y-this[b].y)+this[b].x&&(e=!e);return e},o.prototype.approach=function(a,b){b=b||.5;var c=1-b;this.forEach(function(d,e){d.x=c*d.x+b*a[e].x,d.y=c*d.y+b*a[e].y})},o.prototype.clone=function(){for(var a=new o,b=0;null!=this[b];b++)a[b]=this[b].clone();return a.name=this.name,a},p.prototype=new Table,p.prototype.constructor=p,p.fromArray=function(a){var b=Table.fromArray(a);return b.type="PolygonList",b.getFrame=p.prototype.getFrame,b.add=p.prototype.add,b.factor=p.prototype.factor,b.clone=p.prototype.clone,b.getString=p.prototype.getString,b},p.prototype.getFrame=function(){if(0==this.length)return null;for(var a=this[0].getFrame(),b=new Rectangle(a.x,a.y,a.getRight(),a.getBottom()),c=1;null!=this[c];c++)a=this[c].getFrame(),b.x=Math.min(b.x,a.x),b.y=Math.min(b.y,a.y),b.width=Math.max(b.width,a.getRight()),b.height=Math.max(b.height,a.getBottom());return b.width-=b.x,b.height-=b.y,b},p.prototype.add=function(a){var b,c=typeOf(a);switch(c){case"Point":var d=new p;for(b=0;null!=this[b];b++)d[b]=this[b].add(a);return d.name=this.name,d}},p.prototype.factor=function(a){for(var b=new p,c=0;null!=this[c];c++)b[c]=this[c].factor(a);return b.name=this.name,b},p.prototype.clone=function(){for(var a=new p,b=0;null!=this[b];b++)a[b]=this[b].clone();return a.name=this.name,a},q.prototype=new t,q.prototype.constructor=q;var B=q;q.fromArray=function(a){var b=t.fromArray(a);return b.type="Table",b.applyFunction=q.prototype.applyFunction,b.getRow=q.prototype.getRow,b.getRows=q.prototype.getRows,b.getLengths=q.prototype.getLengths,b.getListLength=q.prototype.getListLength,b.sliceRows=q.prototype.sliceRows,b.getSubListsByIndexes=q.prototype.getSubListsByIndexes,b.getWithoutRow=q.prototype.getWithoutRow,b.getWithoutRows=q.prototype.getWithoutRows,b.getTransposed=q.prototype.getTransposed,b.getListsSortedByList=q.prototype.getListsSortedByList,b.sortListsByList=q.prototype.sortListsByList,b.getReport=q.prototype.getReport,b.clone=q.prototype.clone,b.print=q.prototype.print,b.removeRow=q.prototype.removeRow,b.destroy=q.prototype.destroy,b.isTable=!0,b},q.prototype.applyFunction=function(a){var b,c=new q;for(c.name=this.name,b=0;null!=this[b];b++)c[b]=this[b].applyFunction(a);return c.getImproved()},q.prototype.getRow=function(a){var b,c=new t;for(b=0;b<this.length;b++)c[b]=this[b][a];return c.getImproved()},q.prototype.getListLength=function(a){return this[a||0].length},q.prototype.getLengths=function(){for(var a=new z,b=0;null!=this[b];b++)a[b]=this[b].length;return a},q.prototype.sliceRows=function(a,b){b=null==b?this[0].length-1:b;var c,d,e=new q;for(e.name=this.name,c=0;null!=this[c];c++)d=this[c].getSubList(a,b),d.name=this[c].name,e.push(d);return e.getImproved()},q.prototype.getSubListsByIndexes=function(a){var b=new q;return this.forEach(function(c){b.push(c.getSubListByIndexes(a))}),b.getImproved()},q.prototype.getRows=function(a){return q.prototype.getSubListsByIndexes(indexes)},q.prototype.getWithoutRow=function(a){var b=new q;b.name=this.name;for(var c=0;null!=this[c];c++)b[c]=t.fromArray(this[c].slice(0,a).concat(this[c].slice(a+1))).getImproved(),b[c].name=this[c].name;return b.getImproved()},q.prototype.getWithoutRows=function(a){var b=new q;b.name=this.name;for(var c=0;null!=this[c];c++){for(b[c]=new t,j=0;null!=this[c][j];j++)-1==a.indexOf(j)&&b[c].push(this[c][j]);b[c].name=this[c].name}return b.getImproved()},q.prototype.getListsSortedByList=function(a,b){if(null!=a){var c=instantiateWithSameType(this),d=a.isList?a.clone():this[a];return this.forEach(function(a){c.push(a.getSortedByList(d,b))}),c}},q.prototype.getTransposed=function(a){var b=a?this.getSubList(1):this,c=instantiate(typeOf(b));if(0==b.length)return c;var d,e,f;b[0].length;for(d=0;null!=b[d];d++)for(f=b[d],e=0;null!=f[e];e++)0==d&&(c[e]=new t),c[e][d]=b[d][e];for(e=0;null!=b[0][e];e++)c[e]=c[e].getImproved();return a&&this[0].forEach(function(a,b){c[b].name=String(a)}),c},q.prototype.getReport=function(a){var b="\n"+(a>0?StringOperators.repeatString("  ",a):""),c=this.getLengths(),d=c.getMin(),e=c.getMax(),f=.5*(d+e),g=d==e,h=a>0?b+"////report of instance of Table////":"///////////report of instance of Table//////////";if(0==this.length)return h+=b+"this table has no lists";h+=b+"name: "+this.name,h+=b+"type: "+this.type,h+=b+"number of lists: "+this.length,h+=b+"all lists have same length: "+(g?"true":"false"),g?h+=b+"lists length: "+this[0].length:(h+=b+"min length: "+d,h+=b+"max length: "+e,h+=b+"average length: "+f,h+=b+"all lengths: "+c.join(", "));var i=this.getNames(),j=this.getTypes();h+=b+"--",i.forEach(function(a,c){h+=b+a+" ["+TYPES_SHORT_NAMES_DICTIONARY[j[c]]+"]"}),h+=b+"--";var k=j.allElementsEqual();if(h+=k?b+"types of all lists: "+j[0]:b+"types: "+j.join(", "),h+=b+"names: "+i.join(", "),this.length<101){h+=b+b+"--------lists reports---------";var l;for(l=0;null!=this[l];l++){h+="\n"+b+("("+l+"/0-"+(this.length-1)+")");try{h+=this[l].getReport(1)}catch(m){h+=b+"[!] something wrong with list "+m}}}return h},q.prototype.getReportHtml=function(){},q.prototype.getReportObject=function(){},q.prototype.removeRow=function(a){for(var b=0;null!=this[b];b++)this[b].splice(a,1)},q.prototype.clone=function(){var a=instantiateWithSameType(this);a.name=this.name;for(var b=0;null!=this[b];b++)a.push(this[b].clone());return a},q.prototype.destroy=function(){for(var a=0;null!=this[a];a++)this[a].destroy(),delete this[a]},q.prototype.print=function(){c.log("///////////// <"+this.name+"////////////////////////////////////////////////////"),c.log(TableEncodings.TableToCSV(this,null,!0)),c.log("/////////////"+this.name+"> ////////////////////////////////////////////////////")},r.prototype=new Table,r.prototype.constructor=r,r.fromArray=function(a){var b=Table.fromArray(a);return b.type="NumberTable",b.getNumberListsNormalized=r.prototype.getNumberListsNormalized,b.getNormalizedToMax=r.prototype.getNormalizedToMax,b.getNumberListsNormalizedToMax=r.prototype.getNumberListsNormalizedToMax,b.getNumberListsNormalizedToSum=r.prototype.getNumberListsNormalizedToSum,b.getSums=r.prototype.getSums,b.getRowsSums=r.prototype.getRowsSums,b.getAverages=r.prototype.getAverages,b.getRowsAverages=r.prototype.getRowsAverages,b.factor=r.prototype.factor,b.add=r.prototype.add,b.getMax=r.prototype.getMax,b.getMinMaxInterval=r.prototype.getMinMaxInterval,b},r.prototype.getNumberListsNormalized=function(a){a=null==a?1:a;var b,c=new r;for(b=0;null!=this[b];b++)numberList=this[b],c[b]=numberList.getNormalized(a);return c.name=this.name,c},r.prototype.getNormalizedToMax=function(a){a=null==a?1:a;var b,c=new r,d=a/this.getMax();for(b=0;null!=this[b];b++)c[b]=this[b].factor(d);return c.name=this.name,c},r.prototype.getNumberListsNormalizedToMax=function(a){for(var b=new r,c=0;null!=this[c];c++)numberList=this[c],b[c]=numberList.getNormalizedToMax(a);return b.name=this.name,b},r.prototype.getNumberListsNormalizedToSum=function(){for(var a=new r,b=0;null!=this[b];b++)numberList=this[b],a[b]=numberList.getNormalizedToSum();return a.name=this.name,a},r.prototype.getMax=function(){if(0==this.length)return null;var a,b=this[0].getMax();for(a=1;null!=this[a];a++)b=Math.max(this[a].getMax(),b);return b},r.prototype.getMinMaxInterval=function(){if(0==this.length)return null;for(var a=this[0].getMinMaxInterval(),b=1;null!=this[b];b++){var c=this[b].getMinMaxInterval();a.x=Math.min(a.x,c.x),a.y=Math.max(a.y,c.y)}return a},r.prototype.getSums=function(){for(var a=new NumberList,b=0;null!=this[b];b++)a[b]=this[b].getSum();return a},r.prototype.getRowsSums=function(){for(var a,b=this[0].clone(),c=1;null!=this[c];c++){a=this[c];for(var d=0;null!=a[d];d++)b[d]+=a[d]}return b},r.prototype.getAverages=function(){for(var a=new NumberList,b=0;null!=this[b];b++)a[b]=this[b].getAverage();return a},r.prototype.getRowsAverages=function(){var a,b,c,d=this.length,e=this[0].clone().factor(1/d);for(b=1;null!=this[b];b++)for(a=this[b],c=0;null!=a[c];c++)e[c]+=a[c]/d;return e},r.prototype.factor=function(a){var b,c=new r;switch(typeOf(a)){case"number":for(b=0;null!=this[b];b++)numberList=this[b],c[b]=numberList.factor(a);break;case"NumberList":for(b=0;null!=this[b];b++)numberList=this[b],c[b]=numberList.factor(a[b])}return c.name=this.name,c},r.prototype.add=function(a){for(var b=new r,c=0;null!=this[c];c++)numberList=this[c],b[c]=numberList.add(a);return b.name=this.name,b}}),window.MF=d("src/index")}(window);